{% extends 'layouts/../layouts/base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="row mt-2 align-items-center">
        <div class="col-lg-8 col-sm-4 nav-wrapper position-relative end-0">
            <ul class="nav nav-pills nav-fill p-1" role="tablist" id="tabs">
                <li class="nav-item">
                    <a id="general-tab" class="nav-link mb-0 px-0 py-1 text-xs active" data-bs-toggle="tab" href="#" role="tab" aria-selected="true">
                        General
                    </a>
                </li>
                <li class="nav-item">
                    <a id="performance-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="#" role="tab" aria-selected="false">
                        Performance
                    </a>
                </li>
                <li class="nav-item">
                    <a id="ta-indicators-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="#" role="tab" aria-selected="false">
                        TA Indicators
                    </a>
                </li>
                <li class="nav-item">
                    <a id="support-resistance-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="#" role="tab" aria-selected="false">
                        Support/Resistance
                    </a>
                </li>
                <li class="nav-item">
                    <a id="dividend-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Dividend
                    </a>
                </li>
                <li class="nav-item">
                    <a id="valuation-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Valuation
                    </a>
                </li>
                <li class="nav-item">
                    <a id="growth-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Growth
                    </a>
                </li>
                <li class="nav-item">
                    <a id="profitability-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Profitability
                    </a>
                </li>
                <li class="nav-item">
                    <a id="health-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Health
                    </a>
                </li>
                <li class="nav-item">
                    <a id="analysts-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Analysts
                    </a>
                </li>
                <li class="nav-item">
                    <a id="other-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Other
                    </a>
                </li>
                <li class="nav-item">
                    <a id="custom-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Custom
                    </a>
                </li>
                <li class="nav-item">
                    <a id="chart-settings-tab" class="nav-link mb-0 px-0 py-1 text-xs" data-bs-toggle="tab" href="" role="tab" aria-selected="false">
                        Chart Settings
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-lg-10">
            <div class="card h-100">
                <!-- General panel content -->
                <div class="card-body p-3" id="general-panel">
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Exchange"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Price"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Average%20Volume"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Market%20Cap"></div>
                        </div>
                    </div>
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Outstanding%20Shares%20and%20Float"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Type"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_Index"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_General_GICS%20Sector"></div>
                        </div>
                    </div>
                </div>
                <!-- Performance panel content -->
                <div class="card-body p-3" id="performance-panel">
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_Performance_Signal"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_%25%20Change"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_%25%20Change%20From%20Open"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_1%20Week%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_2%20Week%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_1%20Month%20Performance"></div>
                        </div>
                    </div>
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_3%20Month%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_6%20Month%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_12%20Month%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_2%20Year%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_5%20Year%20Performance"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_10%20Year%20Performance"></div>
                        </div>
                    </div>
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_Smart%20Relative%20Strength"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_Performance_Historical%20Relative%20Strength"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_Historical%20Relative%20Strength"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_Performance_Mansfield%20Direction"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="slider" id="slider_Performance_Beta"></div>
                        </div>
                        <div class="col-lg-2 col-md-4">
                            <div class="dropdown" id="dropdown_Performance_Price%20VS%20SMA"></div>
                        </div>
                    </div>
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                    </div>
                    <div class="row mb-0">
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-2 col-md-4">
                        </div>
                        <div class="col-lg-6 col-md-4">
                        </div>
                    </div>
                </div>
                <!-- TA Indicators panel content -->
                <div class="card-body p-3 d-none" id="ta-indicators-panel">
                    Ta Indicators
                </div>
                <!-- Support/Resistance panel content -->
                <div class="card-body p-3 d-none" id="support-resistance-panel">
                    Support/Resistance
                </div>
                <!--  Dividend panel content -->
                <div class="card-body p-3 d-none" id="dividend-panel">
                    Dividend
                </div>
                <!--  Valuation panel content -->
                <div class="card-body p-3 d-none" id="valuation-panel">
                    Valuation
                </div>
                <!--  Growth panel content -->
                <div class="card-body p-3 d-none" id="growth-panel">
                    Growth
                </div>
                <!--  Profitability panel content -->
                <div class="card-body p-3 d-none" id="profitability-panel">
                    Profitability
                </div>
                <!-- Health panel content -->
                <div class="card-body p-3 d-none" id="health-panel">
                    Health
                </div>
                <!-- Analysts panel content -->
                <div class="card-body p-3 d-none" id="analysts-panel">
                    Analysts
                </div>
                <!-- Other panel content -->
                <div class="card-body p-3 d-none" id="other-panel">
                    Other
                </div>
                <!-- Custom panel content -->
                <div class="card-body p-3 d-none" id="custom-panel">
                    Custom
                </div>
                <!-- Chart Settings panel content -->
                <div class="card-body p-3 d-none" id="chart-settings-panel">
                    Chart Settings
                </div>

            </div>
        </div>
        <div class="col-lg-2 mt-lg-0 mt-4">
            <div class="card">
                <div class="card-body p-3">
                    <select id="search-option" class="form-control" data-trigger name="search-option" multiple>
                      </select>
                  </div>
            </div>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-lg-12">
            <div class="card w-100">
                <div class="card-header bg-secondary d-flex">
                    <div class="col-lg-2">
                        <nav class="navbar navbar-expand-lg top-0 z-index-3 h-25 w-100 shadow-none navbar-transparent justify-content-start p-0">
                            <div class="col-lg-12 collapse navbar-collapse pt-1 pb-1 py-lg-0 d-flex flex-row">
                                <div class="d-flex justify-content-between">
                                    <ul class="navbar-nav d-lg-block d-none">
                                        <li class="nav-item">
                                            <a id="total-count" class="font-weight-bolder ms-lg-0 text-white text-left" href="">
                                                Showing 0 results
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="col-lg-7">
                        <nav class="navbar navbar-expand-lg top-0 z-index-3  h-50 w-100 shadow-none navbar-transparent justify-content-start p-0">
                            <div class="col-lg-12 collapse navbar-collapse pt-1 pb-1 py-lg-0 d-flex flex-row">
                                <div class="d-flex justify-content-between">
                                    <!-- Views dropdown -->
                                    <ul class="navbar-nav navbar-nav-hover mx-auto">
                                        <li class="nav-item dropdown dropdown-hover mx-2">
                                            <a role="button" class="nav-link p-0 d-flex justify-content-between cursor-pointer align-items-center" id="views_filter" data-bs-toggle="dropdown" aria-expanded="false">
                                                <b>Views</b>
                                                <img src="{% static 'assets/img/down-arrow-white.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-block d-none">
                                                <img src="{% static 'assets/img/down-arrow-dark.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-none d-block">
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-animation dropdown-sm border-radius-xl p-3 mt-0 mt-lg-0" aria-labelledby="views_filter">
                                                <div class="row d-none d-lg-flex">
                                                    <div class="col-12 ps-0 d-flex justify-content-center flex-column">
                                                        <ul class="list-group">
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignIn">
                                                              <span>Tables</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignIn">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Overview Table</span>
                                                                  <i class="fa fa-gear ms-2"></i>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>TA Table</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA Table</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignUp">
                                                              <span>Columns</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignUp">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Technical</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Fundamental</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA - Quality</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownPasswordReset">
                                                              <span>Charts</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownPasswordReset">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Charts</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>2 Charts</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownLock">
                                                              <span>Summary</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownLock">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>TA Report</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA Report</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Analyst Ratings</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdown2fa">
                                                              <span>Custom</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdown2fa">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom Table View</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom 3 Column View</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom 2 Column View</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="row d-lg-none">
                                                  <div class="col-12 d-flex justify-content-center flex-column">
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center px-0">
                                                      Sign In
                                                    </h6>
                                                    <a href="{% url 'basic_login' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_login' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_login' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Sign Up
                                                    </h6>
                                                    <a href="{% url 'basic_register' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_register' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_register' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Reset Password
                                                    </h6>
                                                    <a href="{% url 'basic_reset' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_reset' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_reset' %}" class="dropdown-item border-radius-md">
                                                      Illustation
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Lock
                                                    </h6>
                                                    <a href="{% url 'basic_lock' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_lock' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_lock' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      2-Step Verification
                                                    </h6>
                                                    <a href="{% url 'basic_verification' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_verification' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_verification' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Error
                                                    </h6>
                                                    <a href="{% url 'error_404' %}" class="dropdown-item border-radius-md">
                                                      404
                                                    </a>
                                                    <a href="{% url 'error_500' %}" class="dropdown-item border-radius-md">
                                                      500
                                                    </a>
                                          </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <!-- Sort by dropdown -->
                                    <ul class="navbar-nav navbar-nav-hover mx-auto">
                                        <li class="nav-item dropdown dropdown-hover mx-2">
                                            <a role="button" class="nav-link p-0 d-flex justify-content-between cursor-pointer align-items-center" id="sorted_by_filter" data-bs-toggle="dropdown" aria-expanded="false">
                                                <b>Sorted by:</b>
                                                <img src="{% static 'assets/img/down-arrow-white.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-block d-none">
                                                <img src="{% static 'assets/img/down-arrow-dark.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-none d-block">
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-animation dropdown-sm border-radius-xl p-3 mt-0 mt-lg-0" aria-labelledby="sorted_by_filter">
                                                <div class="row d-none d-lg-flex">
                                                    <div class="col-12 ps-0 d-flex justify-content-center flex-column">
                                                        <ul class="list-group">
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignIn">
                                                              <span>General</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignIn">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Symbol</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Name</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>GiCS Sector</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignIn">
                                                              <span>Volume</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignIn">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Volume</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Volume (Pre-market)</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Volume(After-hours)</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownPasswordReset">
                                                              <span>ChartMill Ratings</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownPasswordReset">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>ChartMill Setup Rating</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>ChartMill Technical Rating</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownLock">
                                                              <span>Performance</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownLock">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>% Change (Pre-market)</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>% Change (After-hours)</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Change (Pre-market)</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Change (After-Hours)</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                              <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdown2fa">
                                                                <span>Volatility</span>
                                                                  <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                              </a>
                                                              <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdown2fa">
                                                                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                      <span>Average True Range(14)</span>
                                                                  </a>
                                                                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                      <span>Average True Range(20) as percentage</span>
                                                                  </a>
                                                                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                      <span>Average True Range Increase</span>
                                                                  </a>
                                                            </div>
                                                          </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="row d-lg-none">
                                                  <div class="col-12 d-flex justify-content-center flex-column">
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center px-0">
                                                      Sign In
                                                    </h6>
                                                    <a href="{% url 'basic_login' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_login' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_login' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Sign Up
                                                    </h6>
                                                    <a href="{% url 'basic_register' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_register' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_register' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Reset Password
                                                    </h6>
                                                    <a href="{% url 'basic_reset' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_reset' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_reset' %}" class="dropdown-item border-radius-md">
                                                      Illustation
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Lock
                                                    </h6>
                                                    <a href="{% url 'basic_lock' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_lock' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_lock' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      2-Step Verification
                                                    </h6>
                                                    <a href="{% url 'basic_verification' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_verification' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_verification' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Error
                                                    </h6>
                                                    <a href="{% url 'error_404' %}" class="dropdown-item border-radius-md">
                                                      404
                                                    </a>
                                                    <a href="{% url 'error_500' %}" class="dropdown-item border-radius-md">
                                                      500
                                                    </a>
                                          </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <!-- Order by dropdown -->
                                    <ul class="navbar-nav navbar-nav-hover mx-auto">
                                        <li class="nav-item dropdown dropdown-hover mx-2">
                                            <a role="button" class="nav-link p-0 d-flex justify-content-between cursor-pointer align-items-center" id="desc_filter" data-bs-toggle="dropdown" aria-expanded="false">
                                                <b>DESC:</b>
                                                <img src="{% static 'assets/img/down-arrow-white.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-block d-none">
                                                <img src="{% static 'assets/img/down-arrow-dark.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-none d-block">
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-animation dropdown-sm border-radius-xl p-3 mt-0 mt-lg-0" aria-labelledby="desc_filter">
                                                <div class="row d-none d-lg-flex">
                                                    <div class="col-12 ps-0 d-flex justify-content-center flex-column">
                                                        <ul class="list-group">
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignIn">
                                                              <span>Tables</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignIn">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Overview Table</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>TA Table</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA Table</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignUp">
                                                              <span>Columns</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignUp">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Technical</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Fundamental</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA - Quality</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownPasswordReset">
                                                              <span>Charts</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownPasswordReset">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Charts</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>2 Charts</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownLock">
                                                              <span>Summary</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownLock">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>TA Report</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA Report</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Analyst Ratings</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdown2fa">
                                                              <span>Custom</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdown2fa">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom Table View</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom 3 Column View</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom 2 Column View</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="row d-lg-none">
                                                  <div class="col-12 d-flex justify-content-center flex-column">
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center px-0">
                                                      Sign In
                                                    </h6>
                                                    <a href="{% url 'basic_login' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_login' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_login' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Sign Up
                                                    </h6>
                                                    <a href="{% url 'basic_register' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_register' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_register' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Reset Password
                                                    </h6>
                                                    <a href="{% url 'basic_reset' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_reset' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_reset' %}" class="dropdown-item border-radius-md">
                                                      Illustation
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Lock
                                                    </h6>
                                                    <a href="{% url 'basic_lock' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_lock' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_lock' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      2-Step Verification
                                                    </h6>
                                                    <a href="{% url 'basic_verification' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_verification' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_verification' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Error
                                                    </h6>
                                                    <a href="{% url 'error_404' %}" class="dropdown-item border-radius-md">
                                                      404
                                                    </a>
                                                    <a href="{% url 'error_500' %}" class="dropdown-item border-radius-md">
                                                      500
                                                    </a>
                                          </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="col-lg-3">
                        <nav class="navbar navbar-expand-lg top-0 z-index-3 h-50 w-100 shadow-none navbar-transparent justify-content-start p-0">
                            <div class="col-lg-12 collapse navbar-collapse pt-1 pb-1 py-lg-0 d-flex flex-row">
                                <div class="d-flex justify-content-between">
                                    <!-- Views dropdown -->
                                    <ul class="navbar-nav navbar-nav-hover mx-auto">
                                        <li class="nav-item dropdown dropdown-hover mx-2">
                                            <a role="button" class="nav-link p-0 d-flex justify-content-between cursor-pointer align-items-center" id="per_line_filter" data-bs-toggle="dropdown" aria-expanded="false">
                                                <b>Chart Per Line:</b>
                                                <img src="{% static 'assets/img/down-arrow-white.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-block d-none">
                                                <img src="{% static 'assets/img/down-arrow-dark.svg' %}" alt="down-arrow" class="arrow ms-1 d-lg-none d-block">
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-animation dropdown-sm border-radius-xl p-3 mt-0 mt-lg-3" aria-labelledby="per_line_filter">
                                                <div class="row d-none d-lg-flex">
                                                    <div class="col-12 ps-0 d-flex justify-content-center flex-column">
                                                        <ul class="list-group">
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignIn">
                                                              <span>Tables</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignIn">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Overview Table</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>TA Table</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA Table</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownSignUp">
                                                              <span>Columns</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownSignUp">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Technical</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Fundamental</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA - Quality</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownPasswordReset">
                                                              <span>Charts</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownPasswordReset">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Charts</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>2 Charts</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdownLock">
                                                              <span>Summary</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdownLock">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>TA Report</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>FA Report</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Analyst Ratings</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                          <li class="nav-item dropdown dropdown-hover dropdown-subitem list-group-item border-0 p-0">
                                                            <a class="dropdown-item border-radius-md ps-3 d-flex align-items-center justify-content-between mb-1" id="dropdown2fa">
                                                              <span>Custom</span>
                                                              <img src="{% static 'assets/img/down-arrow.svg' %}" alt="down-arrow" class="arrow">
                                                            </a>
                                                            <div class="dropdown-menu mt-0 py-3 px-2" aria-labelledby="dropdown2fa">
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom Table View</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom 3 Column View</span>
                                                              </a>
                                                              <a class="dropdown-item ps-3 border-radius-md mb-1" href="">
                                                                <span>Create Custom 2 Column View</span>
                                                              </a>
                                                            </div>
                                                          </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="row d-lg-none">
                                                  <div class="col-12 d-flex justify-content-center flex-column">
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center px-0">
                                                      Sign In
                                                    </h6>
                                                    <a href="{% url 'basic_login' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_login' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_login' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Sign Up
                                                    </h6>
                                                    <a href="{% url 'basic_register' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_register' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_register' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Reset Password
                                                    </h6>
                                                    <a href="{% url 'basic_reset' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_reset' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_reset' %}" class="dropdown-item border-radius-md">
                                                      Illustation
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Lock
                                                    </h6>
                                                    <a href="{% url 'basic_lock' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_lock' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_lock' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      2-Step Verification
                                                    </h6>
                                                    <a href="{% url 'basic_verification' %}" class="dropdown-item border-radius-md">
                                                      Basic
                                                    </a>
                                                    <a href="{% url 'cover_verification' %}" class="dropdown-item border-radius-md">
                                                      Cover
                                                    </a>
                                                    <a href="{% url 'illustration_verification' %}" class="dropdown-item border-radius-md">
                                                      Illustration
                                                    </a>
                                                    <h6 class="dropdown-header text-dark font-weight-bolder d-flex align-items-center mt-3 px-0">
                                                      Error
                                                    </h6>
                                                    <a href="{% url 'error_404' %}" class="dropdown-item border-radius-md">
                                                      404
                                                    </a>
                                                    <a href="{% url 'error_500' %}" class="dropdown-item border-radius-md">
                                                      500
                                                    </a>
                                          </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <ul class="navbar-nav d-lg-block d-none">
                                        <li class="nav-item">
                                            <input class="form-check-input me-3" type="checkbox" id="bigCharts">
                                            <label class="form-check-label text-white font-weight-bolder me-3" for="bigCharts">Big Charts</label>
                                            <i class="fas fa-download fa-lg cursor-pointer text-white me-3"></i>
                                            <i class="fas fa-ruler fa-lg cursor-pointer text-white me-3"></i>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row mt-2" id="search-result">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    {% include "includes/../includes/footer.html" %}
{% endblock content %}
{% block extra_js %}
<script src="{% static 'assets/js/plugins/choices.min.js' %}"></script>
<script>
    if (document.getElementById('stock-charts-option')) {
        let stock_charts_option = document.getElementById('stock-charts-option');
        const example = new Choices(stock_charts_option, {
            delimiter: ',',
            editItems: true,
            maxItemCount: 50,
            removeItemButton: true,
            addItems: true,
            allowHTML: true,
        });
    }
    document.addEventListener('DOMContentLoaded', function() {

        /////Tabs control panel//////////////////
        const tabs = document.querySelectorAll('#tabs a');
        const tabIds = Array.from(tabs).map(tab => tab.id);

        tabs.forEach(tab => {
            tab.addEventListener('click', function () {
                const targetPanelId = this.id.replace('-tab', '-panel');
                tabIds.forEach(tabid => {
                    panel = document.getElementById(tabid.replace('-tab', '-panel'))
                    if (panel.id === targetPanelId) {
                        panel.classList.remove('d-none');
                    } else {
                        panel.classList.add('d-none');
                    }
                });

                tabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        document.getElementById('general-tab').click();
        {#document.getElementById("performance-tab").click();#}

        const searchOption = document.getElementById('search-option');

        function addOptionToSearchOption(source, key, value, unique_as_source=false) {
            const options = searchOption.options;

            for (let i = 0; i < options.length; i++) {
                if (unique_as_source) {
                    if (options[i].source === source) {
                        options[i].source = source;
                        options[i].value = key;
                        options[i].text = value;
                        return; // Option already exists, do not add it again
                    }
                }else {
                    if (options[i].source === source && options[i].value === key) {
                        return; // Option already exists, do not add it again
                    }
                }
            }

            const option = document.createElement('option');
            option.source = source;
            option.value = key;
            option.text = value;
            searchOption.appendChild(option);
        }

        function removeUnselectedOptions(source, selectedKeys) {
            const options = searchOption.options;
            for (let i = options.length - 1; i >= 0; i--) {
                if (options[i].source === source && !selectedKeys.includes(options[i].value)) {
                    searchOption.remove(i);
                }
            }
            {#console.log("count=>"+searchOption.options.length)#}
        }

        // Handle dropdown changes
        const dropdowns = document.querySelectorAll('.dropdown');
        dropdowns.forEach(dropdown => {
            dropdown.addEventListener('change', function() {

                const selectedKeys = dropdown.selectedKey.split(', ');
                const selectedValues = dropdown.selectedValue.split(', ');

                {#console.log("dropdown="+dropdown["data_style"]+" [" + dropdown.id + "]=> key:[" + dropdown.selectedKey + "] value:[" + dropdown.selectedValue + "]");#}
                if (dropdown["data_style"] === 'separate') {
                    selectedKeys.forEach((key, index) => {
                        addOptionToSearchOption(dropdown.id, key, selectedValues[index]);
                    });
                } else {
                    addOptionToSearchOption(dropdown.id, dropdown.selectedKey, dropdown.selectedValue);
                }
                removeUnselectedOptions(dropdown.id, selectedKeys);
                
                SearchResult(page=1, searching=true); // Call SearchResult after adding the option
            });
        });

        // Handle slider changes
        const sliders = document.querySelectorAll('.slider');
        sliders.forEach(slider => {
            slider.addEventListener('change', function() {
                {#console.log("sliders=" + slider.id + "]type:["+slider.type+"]=> key:[" + slider.values[0] + "] end:"+slider.values[1]+"]");#}
                addOptionToSearchOption(slider, slider.values[0]+"-"+slider.values[1], slider.valueContent, unique_as_source=true);
                
                SearchResult(page=1, searching=true); // Call SearchResult after adding the option
            });
        });
    });

    let currentPage = 1;
    let isSearching = false;

    async function SearchResult(page = 1, searching = true) {
        isSearching = searching
        if(!isSearching) return;

        const searchOption = document.getElementById('search-option');
        const options = Array.from(searchOption.options);
        const selectedOptions = options.map(option => ({
            source: option.source,
            key: option.value,
            value: option.text
        }));

        const views = document.querySelector('#views_filter b').textContent;
        const sortedBy = document.querySelector('#sorted_by_filter b').textContent;
        const desc = document.querySelector('#desc_filter b').textContent;
        const chartPerLine = document.querySelector('#per_line_filter b').textContent;

        const payload = {
            selectedOptions,
            views,
            sortedBy,
            desc,
            chartPerLine,
            page
        };

        try {
            const response = await fetch(`/research/stock/search/`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')  // Assuming getCookie is defined elsewhere
                },
                body: JSON.stringify(payload)
            });

            if (response.ok) {
                const result = await response.json();  // Await the json parsing
                {#console.log('response=>', result);#}
                renderSearchResult(result, page);
                currentPage++;
                {#console.log('response=>', result);#}
            } else {
                console.error('Failed to fetch data, Network response was not ok:', response.status, response.statusText);
            }
        } catch (error) {
            console.error('Failed to fetch search results:', error);
        }
    }

    function renderSearchResult(data, page) {
        const searchResult = document.getElementById('search-result');
        if (page === 1) {
            searchResult.innerHTML = ''; // Clear existing results only for the first page
        }

        const table = searchResult.querySelector('table');
        const tbody = table ? table.querySelector('tbody') : document.createElement('tbody');

        data.results.forEach(item => {
            const tr = document.createElement('tr');

            const tdSymbol = document.createElement('td');
            tdSymbol.innerHTML = `
            <div class="d-flex px-2 py-1">
                <div class="d-flex flex-column justify-content-center">
                    <h6 class="mb-0 text-xs">${item.symbol}</h6>
                </div>
            </div>
        `;
            tr.appendChild(tdSymbol);

            const tdName = document.createElement('td');
            tdName.innerHTML = `<p class="text-xs font-weight-bold mb-0">${item.name}</p>`;
            tr.appendChild(tdName);

            const tdMarket = document.createElement('td');
            tdMarket.innerHTML = `<p class="text-xs font-weight-bold mb-0">${item.market}</p>`;
            tr.appendChild(tdMarket);

            const tdMarketCap = document.createElement('td');
            tdMarketCap.className = 'align-middle text-center text-sm';
            tdMarketCap.innerHTML = `<span class="text-secondary text-xs font-weight-bold">${item.market_cap}</span>`;
            tr.appendChild(tdMarketCap);

            tbody.appendChild(tr);
        });

        if (!table) {
            const newTable = document.createElement('table');
            newTable.className = 'table align-items-center mb-0';

            const thead = document.createElement('thead');
            thead.innerHTML = `
            <tr>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">Symbol</th>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Name</th>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Market</th>
                <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Market Cap</th>
            </tr>
        `;
            newTable.appendChild(thead);
            newTable.appendChild(tbody);

            const card = document.createElement('div');
            card.className = 'card';
            const tableResponsive = document.createElement('div');
            tableResponsive.className = 'table-responsive';
            tableResponsive.appendChild(newTable);
            card.appendChild(tableResponsive);

            searchResult.appendChild(card);
        }

        // Display the total count of results
        const totalCountElement = document.getElementById('total-count');
        if (totalCountElement) {
            totalCountElement.innerHTML = `Showing <b>${data.total_count}</b> results`;
        }
    }

    window.addEventListener('scroll', debounce(function() {
        if (window.scrollY + window.innerHeight >= document.body.scrollHeight - 500) {
            {#console.log('window.scrollY:'+window.scrollY+' => window.innerHeight: '+window.innerHeight+#}
            {#    ' scrollHeight:'+document.body.scrollHeight+' offsetHeight:'+document.body.offsetHeight);#}
            SearchResult(page=currentPage, searching=isSearching);
        }
    },200));


    // General
    renderDropdown(category='General', type='Exchange', allow_multiple=false, need_all=true, need_none=false, value='', default_value='All');
    renderDropdown(category='General', type='Price', allow_multiple=true, need_all=false, need_none=false, value='', default_value='');
    renderDropdown(category='General', type='Average%20Volume', allow_multiple=false, need_all=true, need_none=false, value='', default_value='All');
    renderDropdown(category='General', type='Market%20Cap', allow_multiple=false, need_all=true, need_none=false, value='', default_value='All');

    renderDropdown(category='General', type='Outstanding%20Shares%20and%20Float', allow_multiple=false, need_all=true, need_none=false, value='', default_value='All');
    renderDropdown(category='General', type='Type', allow_multiple=false, need_all=true, need_none=false, value='', default_value='All');
    renderDropdown(category='General', type='Index', allow_multiple=false, need_all=true, need_none=false, value='', default_value='All');
    renderDropdown(category='General', type='GICS%20Sector', allow_multiple=true, need_all=false, need_none=false, value='', default_value='');

    // Performance
    renderDropdown(category='Performance', type='Signal', allow_multiple=true, need_all=false, need_none=false, value='', default_value='', data_style='separate');
    renderSlider('Performance', '%25%20Change', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '%25%20Change%20From%20Open', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '1%20Week%20Performance', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '2%20Week%20Performance', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '1%20Month%20Performance', -100, 100, 1, [-100, 100]);

    renderSlider('Performance', '3%20Month%20Performance', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '6%20Month%20Performance', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '12%20Month%20Performance', -100, 100, 1, [-100, 100]);
    renderSlider('Performance', '2%20Year%20Performance', -100, 200, 1, [-100, 200]);
    renderSlider('Performance', '5%20Year%20Performance', -100, 300, 1, [-100, 300]);
    renderSlider('Performance', '10%20Year%20Performance', -100, 400, 1, [-100, 400]);

    renderSlider('Performance', 'Smart%20Relative%20Strength', 0, 100, 1, [0, 100]);
    renderDropdown(category='Performance', type='Historical%20Relative%20Strength', allow_multiple=true, need_all=false, need_none=false, value='', default_value='');
    renderSlider('Performance', 'Historical%20Relative%20Strength', -10, 10, 1, [-10, 10]);
    renderDropdown(category='Performance', type='Mansfield%20Direction', allow_multiple=true, need_all=false, need_none=false, value='', default_value='');
    renderSlider('Performance', 'Beta', -4, 4, 1, [-4, 4]);
    renderDropdown(category='Performance', type='Price%20VS%20SMA', allow_multiple=true, need_all=false, need_none=false, value='', default_value='');



</script>
{% endblock extra_js %}
